# ü§ñ –ö–∞—Ä—Ç–æ—á–∫–∞PRO ‚Äî Telegram-–±–æ—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–∞—Ä—Ç–æ—á–µ–∫ —Ç–æ–≤–∞—Ä–æ–≤

AI-–±–æ—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è SEO-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ Wildberries –∏ Ozon.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üõç **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫** ‚Äî SEO-–∑–∞–≥–æ–ª–æ–≤–æ–∫, –ø—Ä–æ–¥–∞—é—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ, –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- ü§î **–£–º–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã** ‚Äî AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–æ–≤–∞—Ä –∏ –∑–∞–¥–∞—ë—Ç —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã
- üîç **–ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤** ‚Äî —Ä–∞–∑–±–æ—Ä —á—É–∂–æ–π –∫–∞—Ä—Ç–æ—á–∫–∏ + —É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
- ‚ú® **4 —Å—Ç–∏–ª—è –ø–æ–¥–∞—á–∏** ‚Äî –ø—Ä–µ–º–∏—É–º, –±—é–¥–∂–µ—Ç–Ω—ã–π, –º–æ–ª–æ–¥—ë–∂–Ω—ã–π, –¥–µ–ª–æ–≤–æ–π
- üìÇ **–ò—Å—Ç–æ—Ä–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫** ‚Äî –≤—Å–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
- üéÅ **–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞** ‚Äî 3 –¥–Ω—è Pro –∑–∞ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∏–≥–ª–∞—à—ë–Ω–Ω–æ–≥–æ –¥—Ä—É–≥–∞
- üîî **–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è** ‚Äî –±–æ—Ç —Å–∞–º –Ω–∞–ø–∏—à–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —á–µ—Ä–µ–∑ 3 –¥–Ω—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- üíé **–ü–æ–¥–ø–∏—Å–∫–∏** ‚Äî free / standard / pro —Å –≥–∏–±–∫–∏–º–∏ –ª–∏–º–∏—Ç–∞–º–∏
- üìä **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏, —Ä–∞—Å—Å—ã–ª–∫–∏

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É

- Ubuntu 24.04 LTS (–∏–ª–∏ –ª—é–±–æ–π Linux —Å Docker)
- 1 —è–¥—Ä–æ CPU, 1 –ì–ë RAM, 20 –ì–ë –¥–∏—Å–∫–∞
- –î–æ—Å—Ç—É–ø –ø–æ SSH

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞: –ø–æ—à–∞–≥–æ–≤–æ

### –®–∞–≥ 1. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã

–ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –Ω—É–∂–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ç—Ä–∏ –≤–µ—â–∏:

#### 1.1 Telegram-–±–æ—Ç

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram, –Ω–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot`
3. –í–≤–µ–¥–∏—Ç–µ –∏–º—è –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `–ö–∞—Ä—Ç–æ—á–∫–∞PRO`)
4. –í–≤–µ–¥–∏—Ç–µ username (–Ω–∞–ø—Ä–∏–º–µ—Ä, `kartochka_pro_bot`)
5. BotFather –≤—ã–¥–∞—Å—Ç —Ç–æ–∫–µ–Ω –≤–∏–¥–∞:
   ```
   7123456789:AAHx-xxxxxxxxxxxxxxxxxxxxxxxx
   ```
   –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ ‚Äî —ç—Ç–æ –≤–∞—à `BOT_TOKEN`.

#### 1.2 –í–∞—à Telegram ID

–ù—É–∂–µ–Ω –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏. –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É [@userinfobot](https://t.me/userinfobot) ‚Äî –æ–Ω –æ—Ç–≤–µ—Ç–∏—Ç —á–∏—Å–ª–æ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä `123456789`. –≠—Ç–æ –≤–∞—à `ADMIN_IDS`.

–ï—Å–ª–∏ –∞–¥–º–∏–Ω–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ ‚Äî –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç–µ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é: `123456789,987654321`.

#### 1.3 API-–∫–ª—é—á –¥–ª—è –Ω–µ–π—Ä–æ—Å–µ—Ç–∏

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç OpenAI API —á–µ—Ä–µ–∑ —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–∏—Å (–Ω–µ –Ω—É–∂–Ω–∞ –∑–∞—Ä—É–±–µ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ –∏ VPN).

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [proxyapi.ru](https://proxyapi.ru)
2. –ü–æ–ø–æ–ª–Ω–∏—Ç–µ –±–∞–ª–∞–Ω—Å (100 ‚ÇΩ —Ö–≤–∞—Ç–∏—Ç –¥–ª—è —Ç–µ—Å—Ç–æ–≤ ‚Äî —ç—Ç–æ ~200 –∫–∞—Ä—Ç–æ—á–µ–∫)
3. –í –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ —Å–æ–∑–¥–∞–π—Ç–µ API-–∫–ª—é—á
4. –ö–ª—é—á –±—É–¥–µ—Ç –≤–∏–¥–∞ `sk-xxxxxxxxxxxxxxxx` ‚Äî —ç—Ç–æ –≤–∞—à `OPENAI_API_KEY`

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–∏—Å—ã** (–µ—Å–ª–∏ ProxyAPI –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç):
- [aitunnel.ru](https://aitunnel.ru) ‚Äî `OPENAI_BASE_URL=https://api.aitunnel.ru/v1/`
- [rockapi.ru](https://rockapi.ru) ‚Äî `OPENAI_BASE_URL=https://api.rockapi.ru/openai/v1`

### –®–∞–≥ 2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh root@–≤–∞—à-ip-–∞–¥—Ä–µ—Å
```

### –®–∞–≥ 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Docker

```bash
apt update && apt upgrade -y
curl -fsSL https://get.docker.com | sh
apt install -y docker-compose-plugin
```

–ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
docker --version
docker compose version
```

### –®–∞–≥ 4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

**–í–∞—Ä–∏–∞–Ω—Ç –ê ‚Äî —á–µ—Ä–µ–∑ scp (—Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞):**
```bash
# –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (–Ω–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ!):
scp kartochka-bot.zip root@–≤–∞—à-ip:/opt/

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
cd /opt
apt install -y unzip
unzip kartochka-bot.zip
cd kartochka-bot
```

**–í–∞—Ä–∏–∞–Ω—Ç –ë ‚Äî —á–µ—Ä–µ–∑ Git:**
```bash
cd /opt
git clone https://github.com/–≤–∞—à-username/kartochka-bot.git
cd kartochka-bot
```

### –®–∞–≥ 5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env

```bash
cp .env.example .env
nano .env
```

–ü–æ–¥—Ä–æ–±–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ ‚Äî –≤ —Ä–∞–∑–¥–µ–ª–µ –Ω–∏–∂–µ.

### –®–∞–≥ 6. –ó–∞–ø—É—Å—Ç–∏—Ç–µ

```bash
chmod +x deploy.sh
./deploy.sh
```

–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç —Ä—É–≥–∞–µ—Ç—Å—è –Ω–∞ `\r` (Windows-–ø–µ—Ä–µ–Ω–æ—Å—ã):
```bash
sed -i 's/\r$//' deploy.sh
./deploy.sh
```

### –®–∞–≥ 7. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ

```bash
docker compose logs -f
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
```
Database initialized
Scheduler started (reminders every 6h)
Bot starting...
```

–û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram ‚Üí `/start`. –ï—Å–ª–∏ –æ—Ç–≤–µ—Ç–∏–ª ‚Äî –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç. –í—ã—Ö–æ–¥ –∏–∑ –ª–æ–≥–æ–≤: `Ctrl+C`.

### –®–∞–≥ 8. –î–æ–±–∞–≤—å—Ç–µ swap (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å 1 –ì–ë RAM –ø–æ–ª–µ–∑–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª –ø–æ–¥–∫–∞—á–∫–∏:

```bash
fallocate -l 1G /swapfile
chmod 600 /swapfile
mkswap /swapfile
swapon /swapfile
echo '/swapfile none swap sw 0 0' >> /etc/fstab
```

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env: –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```bash
# ================================================================
# TELEGRAM
# ================================================================

# –¢–æ–∫–µ–Ω –æ—Ç @BotFather (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
BOT_TOKEN=7123456789:AAHx-xxxxxxxxxxxxxxxxxxxxxxxx

# Telegram ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
# –ê–¥–º–∏–Ω—ã –º–æ–≥—É—Ç: –≤–∏–¥–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É, –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏, –¥–µ–ª–∞—Ç—å —Ä–∞—Å—Å—ã–ª–∫–∏
ADMIN_IDS=123456789

# ================================================================
# –ù–ï–ô–†–û–°–ï–¢–¨ (API)
# ================================================================

# API-–∫–ª—é—á –æ—Ç –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–∏—Å–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxx

# –ê–¥—Ä–µ—Å –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–∏—Å–∞ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞)
# ProxyAPI:  https://api.proxyapi.ru/openai/v1
# AITUNNEL:  https://api.aitunnel.ru/v1/
# RockAPI:   https://api.rockapi.ru/openai/v1
# –ù–∞–ø—Ä—è–º—É—é:  https://api.openai.com/v1 (–Ω—É–∂–Ω–∞ –∑–∞—Ä—É–±–µ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞)
OPENAI_BASE_URL=https://api.proxyapi.ru/openai/v1

# –ú–æ–¥–µ–ª—å –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ (—Å–º. —Ç–∞–±–ª–∏—Ü—É –Ω–∏–∂–µ)
OPENAI_MODEL=gpt-4o-mini

# ================================================================
# –õ–ò–ú–ò–¢–´
# ================================================================

# –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ –¥–µ–Ω—å
FREE_DAILY_LIMIT=3

# –ö–∞—Ä—Ç–æ—á–∫–∏ –≤ –º–µ—Å—è—Ü –¥–ª—è —Ç–∞—Ä–∏—Ñ–∞ ¬´–°—Ç–∞–Ω–¥–∞—Ä—Ç¬ª
STANDARD_MONTHLY_LIMIT=50

# –ö–∞—Ä—Ç–æ—á–∫–∏ –≤ –º–µ—Å—è—Ü –¥–ª—è —Ç–∞—Ä–∏—Ñ–∞ ¬´–ü—Ä–æ¬ª (999999 = –±–µ–∑–ª–∏–º–∏—Ç)
PRO_MONTHLY_LIMIT=999999

# ================================================================
# –¶–ï–ù–´ (–≤ —Ä—É–±–ª—è—Ö)
# ================================================================

PRICE_STANDARD=490
PRICE_PRO=990
```

---

## –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏

–ú–æ–¥–µ–ª—å –∑–∞–¥–∞—ë—Ç—Å—è –≤ `.env` –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `OPENAI_MODEL`. –ù–∞–∑–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ –±–µ—Ä–∏—Ç–µ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤–∞—à–µ–≥–æ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–∏—Å–∞ ‚Äî –æ–Ω–∏ –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö.

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: gpt-4o-mini

–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ: –±—ã—Å—Ç—Ä–∞—è, –¥–µ—à—ë–≤–∞—è, –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è.

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

| –ú–æ–¥–µ–ª—å | –ö–∞—á–µ—Å—Ç–≤–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º | –°–∫–æ—Ä–æ—Å—Ç—å | –¶–µ–Ω–∞ (ProxyAPI –∑–∞ 1M —Ç–æ–∫–µ–Ω–æ–≤) | –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å 1 –∫–∞—Ä—Ç–æ—á–∫–∏ |
|--------|-------------------|----------|-------------------------------|------------------------|
| `gpt-4o-mini` | ‚≠ê‚≠ê‚≠ê‚≠ê –û—Ç–ª–∏—á–Ω–æ–µ | –ë—ã—Å—Ç—Ä–∞—è | ~65 / 516 ‚ÇΩ (–≤—Ö–æ–¥/–≤—ã—Ö–æ–¥) | ~0.5 ‚ÇΩ |
| `gpt-4o` | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê –õ—É—á—à–µ–µ | –°—Ä–µ–¥–Ω—è—è | ~323 / 2577 ‚ÇΩ | ~3 ‚ÇΩ |
| `gpt-4.1-nano` | ‚≠ê‚≠ê‚≠ê –•–æ—Ä–æ—à–µ–µ | –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–∞—è | ~13 / 104 ‚ÇΩ | ~0.1 ‚ÇΩ |
| `gpt-4.1-mini` | ‚≠ê‚≠ê‚≠ê‚≠ê –û—Ç–ª–∏—á–Ω–æ–µ | –ë—ã—Å—Ç—Ä–∞—è | ~50 / 400 ‚ÇΩ | ~0.4 ‚ÇΩ |

**–í–∞–∂–Ω–æ:** —Ç–æ—á–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π –∏ —Ü–µ–Ω—ã —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –≤–∞—à–µ–≥–æ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–∏—Å–∞. –û–Ω–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è. –ù–∞–ø—Ä–∏–º–µ—Ä, ProxyAPI –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `gpt-4o-mini-2024-07-18`, –∞ AITUNNEL –ø—Ä–æ—Å—Ç–æ `gpt-4o-mini`.

### –ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å

- **–¢–æ–ª—å–∫–æ –Ω–∞—á–∏–Ω–∞–µ—Ç–µ, —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç–µ** ‚Üí `gpt-4o-mini` (–∑–æ–ª–æ—Ç–∞—è —Å–µ—Ä–µ–¥–∏–Ω–∞)
- **–•–æ—Ç–∏—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –¥—ë—à–µ–≤–æ** ‚Üí `gpt-4.1-nano` (–Ω–æ —Ä—É—Å—Å–∫–∏–π —á—É—Ç—å —Ö—É–∂–µ)
- **–•–æ—Ç–∏—Ç–µ –ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ** ‚Üí `gpt-4o` (–≤ 5-6 —Ä–∞–∑ –¥–æ—Ä–æ–∂–µ, –Ω–æ –ø–∏—à–µ—Ç –∑–∞–º–µ—Ç–Ω–æ –ª—É—á—à–µ)
- **–•–æ—Ç–∏—Ç–µ —ç–∫–æ–Ω–æ–º–∏—Ç—å, –Ω–æ —Å —Ö–æ—Ä–æ—à–∏–º –∫–∞—á–µ—Å—Ç–≤–æ–º** ‚Üí `gpt-4.1-mini`

### –ö–∞–∫ —Å–º–µ–Ω–∏—Ç—å –º–æ–¥–µ–ª—å

1. –û—Ç–∫—Ä–æ–π—Ç–µ `.env`:
   ```bash
   nano /opt/kartochka-bot/.env
   ```
2. –ò–∑–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É `OPENAI_MODEL`:
   ```
   OPENAI_MODEL=gpt-4o-mini
   ```
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
   ```bash
   docker compose restart
   ```

–ú–æ–¥–µ–ª—å –º–µ–Ω—è–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏.

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
kartochka-bot/
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ + –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ config.py             # –ß—Ç–µ–Ω–∏–µ .env, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ db.py             # SQLite ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, —Ä–µ—Ñ–µ—Ä–∞–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ai_service.py     # –ü—Ä–æ–º–ø—Ç—ã + –≤—ã–∑–æ–≤—ã OpenAI API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ scheduler.py      # –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º (–∫–∞–∂–¥—ã–µ 6 —á)
‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ start.py          # /start, –º–µ–Ω—é, –ø—Ä–æ—Ñ–∏–ª—å, —Ç–∞—Ä–∏—Ñ—ã, —Ä–µ—Ñ–µ—Ä–∞–ª—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ generate.py       # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫, –∞–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ history.py        # ¬´–ú–æ–∏ –∫–∞—Ä—Ç–æ—á–∫–∏¬ª —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ subscription.py   # –û–ø–ª–∞—Ç–∞ –∏ –ø–æ–¥–ø–∏—Å–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.py          # –ê–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ fallback.py       # –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ keyboards/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ inline.py         # –í—Å–µ –∏–Ω–ª–∞–π–Ω-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ middlewares/
‚îÇ       ‚îî‚îÄ‚îÄ throttle.py       # –ê–Ω—Ç–∏—Å–ø–∞–º (1 –∑–∞–ø—Ä–æ—Å/—Å–µ–∫)
‚îú‚îÄ‚îÄ data/                     # –ë–î (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ deploy.sh                 # –°–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ .env.example              # –®–∞–±–ª–æ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îî‚îÄ‚îÄ README.md
```

---

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ / –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ |
| `/menu` | –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é |
| `/help` | –°–ø—Ä–∞–≤–∫–∞ –ø–æ –±–æ—Ç—É |

### –î–ª—è –∞–¥–º–∏–Ω–æ–≤ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤–∞—à ID –≤ ADMIN_IDS)
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/admin` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, —Ä–∞—Å—Ö–æ–¥ API |
| `/activate 123456 standard` | –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É (standard / pro / free) |
| `/userinfo 123456` | –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ |
| `/broadcast —Ç–µ–∫—Å—Ç` | –†–∞—Å—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º |

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º

```bash
cd /opt/kartochka-bot

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker compose logs -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker compose restart

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker compose down

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ (–ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞)
docker compose up -d --build

# –°—Ç–∞—Ç—É—Å
docker compose ps

# –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats kartochka-bot --no-stream
```

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–ø–ª–∞—Ç—ã

–ù–∞ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä—É—á–Ω—ã–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –æ–ø–ª–∞—Ç—ã:

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ç–∞—Ä–∏—Ñ ‚Üí –≤–∏–¥–∏—Ç —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞
2. –ü–µ—Ä–µ–≤–æ–¥–∏—Ç –¥–µ–Ω—å–≥–∏ ‚Üí –Ω–∞–∂–∏–º–∞–µ—Ç ¬´–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å¬ª
3. –í—ã (–∞–¥–º–∏–Ω) –ø–æ–ª—É—á–∞–µ—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
4. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ ‚Üí –≤–≤–æ–¥–∏—Ç–µ `/activate 123456 standard`

**–ò–∑–º–µ–Ω–∏—Ç–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –∫–∞—Ä—Ç—ã** –≤ —Ñ–∞–π–ª–µ `bot/handlers/subscription.py` ‚Äî –Ω–∞–π–¥–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `PAYMENT_INFO` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã –∏ –§–ò–û –Ω–∞ —Å–≤–æ–∏.

---

## –ë—ç–∫–∞–ø—ã

### –†—É—á–Ω–æ–π –±—ç–∫–∞–ø
```bash
cp /opt/kartochka-bot/data/bot.db /opt/kartochka-bot/data/backup_$(date +%Y%m%d).db
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø (—Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é)
```bash
crontab -e
```
–î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:
```
0 3 * * 0 cp /opt/kartochka-bot/data/bot.db /opt/kartochka-bot/data/backup_$(date +\%Y\%m\%d).db
```

---

## –†–∞—Å—Ö–æ–¥ —Ä–µ—Å—É—Ä—Å–æ–≤

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| RAM | 80‚Äì150 –ú–ë |
| CPU | < 5% –≤ –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ |
| –î–∏—Å–∫ | ~200 –ú–ë (Docker –æ–±—Ä–∞–∑) + –ë–î |
| –°–µ—Ç—å | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫ |

## –°—Ç–æ–∏–º–æ—Å—Ç—å API

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –º–æ–¥–µ–ª–∏ `gpt-4o-mini` —á–µ—Ä–µ–∑ ProxyAPI:

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| 1 –∫–∞—Ä—Ç–æ—á–∫–∞ | ~0.5 ‚ÇΩ |
| 100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π √ó 50 –∫–∞—Ä—Ç–æ—á–µ–∫/–º–µ—Å | ~2 500 ‚ÇΩ/–º–µ—Å |
| –î–æ—Ö–æ–¥ —Å 100 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ (490 ‚ÇΩ) | 49 000 ‚ÇΩ/–º–µ—Å |
| **–ú–∞—Ä–∂–∞** | **~95%** |

---

## –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|
| –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç | `docker compose logs --tail 50` ‚Äî —Å–º–æ—Ç—Ä–∏—Ç–µ –æ—à–∏–±–∫—É |
| `Unauthorized` | –ù–µ–≤–µ—Ä–Ω—ã–π BOT_TOKEN –≤ .env |
| `401 Authentication error` | –ù–µ–≤–µ—Ä–Ω—ã–π OPENAI_API_KEY –∏–ª–∏ –Ω—É–ª–µ–≤–æ–π –±–∞–ª–∞–Ω—Å |
| `Connection error` | –ù–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏–ª–∏ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω |
| –°–∫—Ä–∏–ø—Ç —Ä—É–≥–∞–µ—Ç—Å—è –Ω–∞ `\r` | `sed -i 's/\r$//' deploy.sh` |
| –î–∏—Å–∫ –∑–∞–ø–æ–ª–Ω–∏–ª—Å—è | `docker system prune -a` |
| –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ reboot | –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `docker compose ps`, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ `docker compose up -d` |
